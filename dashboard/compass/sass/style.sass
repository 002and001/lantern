$experimental-support-for-svg: true
$legacy-support-for-ie6: false
$legacy-support-for-ie7: false

$blueprint-background-color: #fff
$background-color-alt: #e9edf2
$background-color-alt2: #bbcee9
$background-color-alt3: #ebebeb
$background-color-alt4: #e6ecf5
$background-color-alt5: #2F2F2F
$blueprint-font-family: Helvetica, Arial, "Liberation Sans", sans-serif
$font-fixedwidth: Monaco, monospace
$blueprint-font-size: 14px
$font-size-small: .9 * $blueprint-font-size
$font-size-smaller: .85 * $blueprint-font-size

$font-color: #333
$font-color-input: #666
$font-color-disabled: #c6c9ce
$font-color-important: #c00
$font-color-error: #c00
$font-color-success: #26df50
$font-color-warning: #900
$header-color: #000
$header-color-alt: #53637d
$link-color: #3f6ec6
$link-visited-color: $link-color
$link-hover-color: $link-color
$link-active-color: lighten($link-color, 20%)
$edge-color: #c6c9ce
$edge-color-alt: #8faad9
$spacer-color: #eee

$blueprint-grid-width: 21px
$blueprint-grid-margin: 10px
$blueprint-grid-columns: 30

@import compass
@import compass/css3
@import blueprint

+global-reset
+blueprint-typography

body
  background: image-url('spinner-big.gif') center no-repeat

$welcome-wdth: 580px
$welcome-hght: 380px
$welcome-controls-wdth: 300px
#welcome-container, .wizard-slides
  +box-sizing(border-box)
  width: $welcome-wdth
  height: $welcome-hght
  position: relative
  top: 50%
  left: 50%
  margin-left: -$welcome-wdth / 2
  margin-top: -$welcome-hght / 2
  color: $background-color-alt5
  +text-shadow(#ddd 0px 1px 0)
  background-color: $background-color-alt3
  +background-image(linear-gradient($background-color-alt3, #999))
  padding: 40px 0
  text-align: center
  +border-radius(5px)
  +box-shadow(#000 0 0 25px)
  h4
    font-size: 11pt
    color: $background-color-alt5
    margin-bottom: 10px
  .controls
    width: 180px
    margin-left: -90px
    line-height: 17pt
    position: absolute
    left: 50%
    bottom: 35px
    figure
      width: 50px
      font-size: 9pt
      +inline-block
      &.left
        position: absolute
        bottom: 0
        left: 0
      &.right
        position: absolute
        bottom: 0
        right: 0
  a.doc-link
    color: $background-color-alt5
    border-bottom: 1px $header-color-alt dotted
    text-decoration: none

a.doc-link
  cursor: help

.welcome-optionlist
  text-align: left
  position: relative
  left: 50%
  li
    padding: 5px 0
  #mode &
    width: 325px
    margin: 30px 0 0 -162.5px
  #systemproxy &
    width: 351px
    margin: 30px 0 0 -175px

#systemproxy .smallnote
  margin: 6px 0 10px 21px

.slide
  display: none

.doc
  display: none

.showdown
  display: none
  max-height: 552px
  overflow-y: auto
  &.selected
    display: block
  h2
    font-size: 13pt
    margin-top: 35px
    margin-bottom: 4px
  //p
    margin-bottom: 4px

.small
  font-size: $font-size-small

#done .smallnote
  margin-top: 20px

//#lock
  background: image-url('lock.png') no-repeat center
  height: 32px
  width: 32px
  display: inline-block
  border: 1px solid #aaa
  +border-radius(30px)

.slide.selected
  display: block

//#terms textarea
  text-align: left
  width: 400px
  height: 140px
  margin: 1em 0 0 0
  background-color: #eee
  font-size: $font-size-smaller

form.signin
  input[type=text], input[type=password]
    background-color: #eee
    border: 1px solid $edge-color
    margin-bottom: 8px
    width: 275px
    padding: 4px
    font-size: 16pt
    +border-radius(5px)
  input[type=text], .error
    margin-top: -1px !important

input[type=password], input.signinpwinput
  background: image-url('lock.png') no-repeat center right

.peerlist
  overflow-x: hidden
  overflow-y: auto
  white-space: nowrap
  #trustedpeers &
    font-size: $font-size-smaller
    height: 90px
    text-align: left
    border: 1px solid #aaa
    +box-shadow(#ccc 0 1px 2px)
    position: relative
    left: 50%
    width: 350px
    margin: 0 0 1em -176px
    background-color: #eee
    +border-radius(3px)
  #trusted &
    border: 1px solid $edge-color
    width: 400px
    min-height: 90px
    max-height: 414px
    padding-left: 3px
    +border-radius(3px)
    +box-sizing(border-box)
    margin-bottom: 8px

.searchpeers
  +box-sizing(border-box)
  #trustedpeers &
    width: 350px
    margin-bottom: 5px
  #trusted &
    width: 400px
    margin-bottom: 8px

#trusted
  h1
    margin-bottom: 20px
  h4
    color: $font-color-input

.smallnote
  font-size: 9pt
  color: $font-color-input

form.signin .error, #systemproxy .error, #unlock-form .error
  font-size: $font-size-small
  margin-top: 3px

#systemproxy .error, #unlock-form .error
  visibility: hidden

#signin .error
  text-align: left
  margin-left: 154px

.badcredentials, .connection
  .error
    visibility: visible !important

.autoproxyfailed
  .error
    visibility: visible !important

.unlock-failed .unlock-failed-error
  visibility: visible !important

.invalid-password .invalid-password-error 
  visibility: visible !important
  

.error
  color: $font-color-error !important

.success
  color: $font-color-success !important

.important
  color: $font-color-important !important

input.ng-invalid:not(.ng-pristine)
  outline-color: $font-color-error

input.ng-pristine:invalid
  -moz-box-shadow: none !important

.warning
  color: $font-color-warning !important

html, body, #sidebar, .panel.selected
  height: 100%

body
  display: block
  width: 100%
  & > #ld-container, #dashboard
    width: 100%
    height: 100%
  &.welcome, &.welcome #ld-container
    position: fixed
    top: 0
    bottom: 0

#dashboard
  display: table
  // XXX getting shifted right by 1px for some reason (add "background: red" to #ld-container to see it)
  margin-left: -1px

#block-overlay
  background-color: transparent
  z-index: -100

.block-enabled
  position: fixed
  top: 0
  left: 0
  right: 0
  bottom: 0
  background: rgba(255, 255, 255, 0.5) image-url('spinner-big.gif') center no-repeat !important
  z-index: 100 !important
  +transition-property(background-color)
  +transition-duration(.1s)
  +transition-timing-function(ease-in)

#ld-container
  background-color: $blueprint-background-color
  body.welcome &
    background-color: $background-color-alt5

#sidebar, .panel.selected
  display: table-cell

h1
  font-size: 19pt
  font-weight: 300
  color: $header-color-alt

p
  margin-bottom: 1em

$topbar-hght: 24px
$gap-size: 24px
#sidebar, .panel
  padding: ($topbar-hght + $gap-size) 0 0 0

$sidebar-wdth: 200px
#sidebar
  background-color: $background-color-alt
  text-align: right
  & > *
    margin-right: $gap-size
  & > nav
    margin-right: 0
    width: $sidebar-wdth

#sidebar-update-link
  color: $font-color-important !important

#search
  margin-top: 1em

$mdoverlaywdth: 500px
#md-overlay, #doc-overlay
  z-index: 2
  position: fixed
  top: $topbar-hght + 2px
  width: $mdoverlaywdth
  left: 50%
  margin: 0
  margin-left: - $mdoverlaywdth / 2 - $gap-size
  max-height: 552px
  color: #888
  line-height: 1.5
  font-size: 10pt

#doc-overlay
  +border-radius(3px)
  top: 50%
  max-height: 500px
  margin-top: -274px
  .doc
    overflow-y: auto
    max-height: 476px

.overlay-modal
  position: fixed
  top: 0
  bottom: 0
  left: 0
  right: 0
  background-color: rgba(255, 255, 255, 0.5)

#doc-modal
  display: none
  background-color: rgba(0, 0, 0, 0.25)
  body.welcome &
    background-color: rgba(0, 0, 0, 0.5)

ul
  +no-bullets
  padding-left: inherit
  margin: 0

li
  padding-top: 1px
  padding-bottom: 1px

#panel-list
  margin-right: 0
  padding: $gap-size 0
  li
    padding: 0
  a
    text-decoration: none
    display: block
    padding-right: $gap-size
    line-height: 30px
    color: #000
    font-weight: 100
    border: 1px solid transparent
    border-left: 0
    border-right: 0
  a.selected, a:active
    border: 1px solid $edge-color-alt
    border-left: 0
    border-right: 0
  a.selected
    background-color: $background-color-alt2

.panel, .overlay
  display: none
  background-color: #fff
  a.doc-link
    color: $header-color-alt
    border-bottom: 1px $header-color-alt dotted
    text-decoration: none

.panel
  width: 100%
  border-left: 1px solid $edge-color
  +box-shadow($edge-color 0 0 10px)
  & > *
    margin-left: 32px
  & > h1
    margin-bottom: 42px

.overlay
  position: absolute
  top: $topbar-hght + 2px
  left: $sidebar-wdth + $gap-size * 2
  padding: $gap-size
  +box-shadow($edge-color 0 0 10px)
  a.close
    right: -14px

a.close
  position: absolute
  right: -2px
  top: 6px
  height: 35px
  width: 35px
  text-decoration: none

.selected
  display: block

#siteslist
  width: 240px
  min-width: 264px
  max-height: 491px
  padding-left: 0
  margin: 0
  overflow-y: auto
  border: 1px solid $edge-color
  +border-radius(3px)
  form
    display: inline
  input[type=text]
    width: 214px
    +box-sizing(border-box)
    border: 1px solid transparent
    &:hover
      border: 1px solid $edge-color
  a.delete
    text-decoration: none
    color: transparent
    float: right
    padding-right: 18px
    margin-top: 1px
  li
    padding: 2px 0 2px 6px
    &:hover
      background-color: $background-color-alt4
      a.delete
        color: $font-color-input
        &:hover
          color: #000

#required-legend
  padding: 5px 0 0 0
  .smallnote
    margin: 0 3px 0 7px

#sitetoadd
  border: 1px solid $edge-color !important
  padding-left: 5px
  height: 26px

#sitetoadd-li
  background-color: $background-color-alt4
  padding: 7px 0 7px 18px !important
  //border-bottom: 1px dotted #fff

a.close
  color: #bbb
  &:hover
    color: $font-color-input

a
  cursor: pointer

dl
  +clearfix
  margin-bottom: 0

dt
  font-size: $blueprint-font-size
  clear: left

dt, dd
  float: left
  margin-left: 0

.panel > dl > dt
  width: 100px

.panel > dl > dd
  margin: 0 0 1.5em 0

.panel > dl > dd > dl > dt
  width: 90px
  font-weight: normal

input[type=text], input[type=email], input[type=password], input[type=number], textarea
  color: $font-color-input
  cursor: text
  font-size: $blueprint-font-size
  font-family: $blueprint-font-family
  &:not([disabled]):not([readonly]):hover
    color: #000

input[disabled], input[type=text][readonly]
  cursor: default
  color: $font-color-disabled

input[type=number]
  border: 0

textarea
  border: 1px solid $edge-color
  +box-shadow($edge-color 0 0 5px)
  +box-sizing(border-box)
  padding: 5px

textarea, input[type=text], input[type=email]
  +border-radius(3px)

$contact-wdth: 510px
#contact-msg
  width: $contact-wdth
  margin-bottom: 17px

#pm-textarea
  height: 200px
  margin-bottom: 1em
  display: block
  width: $contact-wdth
  background: image-url('lock.png') no-repeat top right

#pm-controls
  width: $contact-wdth
  input[type=email]
    border: 1px solid transparent
    &:not([disabled]):hover
      color: #000
      border-color: $edge-color

#pm-replyto
  width: 220px

#pm-send
  float: right
  font-size: $blueprint-font-size
  margin: 0
  padding: 3px 6px

#topbar
  position: absolute
  top: 0
  background: $background-color-alt
  border: 0
  border-bottom: 1px solid $edge-color
  +box-shadow($edge-color 0 0 5px)
  color: $header-color-alt
  +text-shadow(#fff 1px 1px 0)
  margin: 0
  height: $topbar-hght
  width: 100%

.iconlabel, .iconlabel > *
  +inline-block
  vertical-align: middle

.iconlabel-label
  padding-left: 3px

.iconlabel .actionlink
  padding-left: 8px

.iconlabel-icon
  background-repeat: no-repeat
  background-position: center
  min-height: $blueprint-font-size

.connlight
  width: 12px
  .CONNECTED.get &, .CONNECTED.give &
    background-image: image-url('connlight-green.png')
  .CONNECTING &, .DISCONNECTING & //, .PAUSED &
    background-image: image-url('connlight-yellow.png')
  .DISCONNECTED &
    background-image: image-url('connlight-red.png')

#topbar-conn
  position: absolute
  left: 8px

#dd-conn
  margin-top: -5px

.topbar-stat
  position: absolute
  top: 4px
  font-size: $font-size-smaller
  span, img
    vertical-align: middle

#topbar-peers
  left: 133px

#topbar-rate-up
  left: 189px
  //&:before
    content: '⬆' // XXX windows doesn't like this character

#topbar-rate-dn
  left: 251px
  //&:before
    content: '⬇' // XXX windows doesn't like this character

#userlink
  position: absolute
  top: 3px
  right: 8px
  text-align: right

#userlink, #usermenu a
  text-decoration: none
  font-weight: 300

//#usermenu
  display: none
  position: fixed
  top: $topbar-hght + 1px
  right: 0
  width: 147px
  height: 23px
  background-color: $background-color-alt
  text-align: right
  padding: 3px 20px 0 0
  font-size: $font-size-smaller
  border: 1px solid $edge-color
  border-top-color: #eee
  +text-shadow(#fff 1px 1px 0)
  +box-shadow($edge-color 0 0 3px)

//#usermenu.CONNECTED
  height: 43px

//#userlink:after
  content: ' ▾'

//#userlink.collapsed:after
  content: ' ▿'

.actionlink
  padding-left: 5px
  font-size: $font-size-smaller

#peertable
  margin-bottom: 0
  th,td
    padding: 0 10px 0 0

.extra
  color: $font-color-input
  font-size: $font-size-smaller

.hidden
  visibility: hidden

.visible
  visibility: visible

.disabled
  color: $font-color-disabled

#port
  width: 64px
  border: 0
  color: $font-color-input

#give-mode-peers input[type=checkbox]
  margin-left: 15px

#limitnpeers
  width: 24px

button
  font-size: 14pt
  font-family: $blueprint-font-family
  background-color: #eee
  border: 1px solid $edge-color
  +border-radius(3px)
  margin: 10px 0
  color: $font-color-input
  &[disabled]
    color: $font-color-disabled !important
    cursor: default !important
  &:hover:not([disabled])
    color: #333
    border: 1px solid #999
  &:active:not([disabled])
    background-color: #ccc

.buttonlink
  cursor: pointer
  border: 1px solid #bbb
  padding: 0px 8px
  text-decoration: none
  color: #333 !important
  display: inline-block
  +border-radius(3px)
  +background-image(linear-gradient(#fff, #eee))
  &:active:not([disabled])
    +background-image(linear-gradient(#a9b6c3, #7684a1 50%, #9ea7b8, #a9b6c3))
    border-color: #666

#httpsev-li
  font-size: 9pt
  margin: .3em 0 .7em 0

p .buttonlink
  margin-left: 8px

#reset-button
  margin-top: 1em
  color: $font-color-important

#signin-overlay
  position: absolute
  background-color: #fff
  padding: 20px
  +border-radius(3px)
  +box-shadow($edge-color 0 0 10px)
  top: 100px
  left: 50%
  width: 400px
  margin: 0 -200px
  height: 200px
  text-align: center
  & .spinner
    margin-top: 18px
  & button
    margin-top: 19px

.flashmsg
  z-index: 500
  display: none
  color: $font-color-input
  height: 22px
  width: 590px
  background-color: rgba(255, 255, 255, 0.9)
  position: fixed
  top: 13px
  left: 50%
  margin-left: -295px
  text-align: center
  border: 1px solid $edge-color
  +border-radius(3px)
  +box-shadow($edge-color 1px 1px 5px)
  img
    vertical-align: text-bottom
  a.close
    top: 0
    right: -5px
  &.tip
    +box-shadow($edge-color 1px 1px 20px)
    color: #53637D
    background-color: #fff
    height: 226px
    top: 12px
    .content
      padding: 30px
      h1
        font-size: 15pt
        color: #aaa
      div
        margin: 10px 0 20px 0

#tryit
  font-size: $font-size-smaller
  display: inline-block
  background-color: $font-color-success
  +background-image(linear-gradient($font-color-success, darken($font-color-success, 10%)))
  padding: 1px 10px 1px 8px
  text-decoration: none
  color: #fff
  +border-radius(3px)
  &:hover
    background: darken($font-color-success, 10%)

#whatnowtxt
  font-size: $font-size-small
  margin-bottom: 0


// --------------------
// graceful degradation

.placeholder
  color: #aaa

html.ie
  #dd-conn
    margin-top: -3px
  .lb-wrap
    overflow: hidden

#upgrade-ie
  display: none

html.ie-unsupported
  #upgrade-ie
    display: block
    position: fixed
    left: 0
    right: 0
    bottom: 0
    z-index: 500
    background: #eee
    padding: 0 0 4px 0
    text-align: center
    color: $font-color-error

html.ie8
  &, body, #ld-container, #dashboard, .panel
    overflow: hidden
  .overlay, #signin-overlay
    border: 1px solid $edge-color
  .overlay-modal
    background-color: #fff
    +opacity(0.5)
  .block-enabled
    background: #fff image-url('spinner-big.gif') center no-repeat !important
    +opacity(0.5)
  .buttonlink
    background-color: #eee
  .flashmsg
    background-color: #fff
  #doc-modal
    background-color: #000
    +opacity(0.25)
    body.welcome &
      +opacity(0.5)

// XXX
  #doc-overlay
    .lb-content
      padding-right: 10px
