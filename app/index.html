<!DOCTYPE html>
<html ng-app="app">
  <head>
    <meta charset="utf-8">
    <title>Lantern Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Lantern Dashboard">
    <meta name="author" content="Team Lantern">

    <link href="lib/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="_css/app.css" rel="stylesheet">
    <!--
    <link href="lib/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    -->
    <link href="lib/angular-ui/angular-ui.css">

    <script src="lib/angular/docs/js/jquery.js"></script>
    <script src="lib/webshims/js-webshim/dev/extras/modernizr-custom.js"></script>
    <script src="lib/webshims/js-webshim/dev/polyfiller.js"></script>
    <script>
      $.webshims.polyfill('forms');
    </script>
    <script src="lib/cometd.js"></script>
    <script src="lib/jquery.cometd.js"></script>
    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-resource.js"></script>
    <!--
    <script src="lib/angular/i18n/angular-locale_zh-cn.js"></script>
    <script src="lib/angular/i18n/angular-locale_fa-ir.js"></script>
    -->
    <script src="lib/angular-ui/angular-ui.js"></script>
    <!--
    <script src="lib/lodash.js"></script>
    -->
    <script src="js/app.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/directives.js"></script>
    <script src="js/i18n.js"></script>

    <link rel="shortcut icon" href="img/favicon.ico">
  </head>

  <body ng-controller="RootCtrl" ng-cloak>

    <div x-block-input ng-hide="connected()">
      <div>{{ 'WAITING_FOR_LANTERN' | i18n }}</div>
      <img src="lib/webshims/css/polyfill-loader.gif">
    </div>

    <div ng-controller="UnlockSettingsCtrl" ui-modal ng-model="show"
         class="fade" data-backdrop="static" data-keyboard="false">
      <div class="modal-header">
        <h3>{{ 'UNLOCK_SETTINGS_TITLE' | i18n }}</h3>
      </div>
      <form name="unlockForm" ng-submit="unlockForm.$valid && submit(password)">
        <div class="modal-body">
          <span class="help-block">{{ 'UNLOCK_SETTINGS_PROMPT' | i18n }}</span>
          <br>
          <div class="control-group" ng-class="{error: unlockForm.password.$pristine && unlockForm.password.$error.invalid}">
            <div class="controls">
              <div class="input-append">
                <input type="password" ng-model="password" autofocus required
                       name="password" placeholder="{{ 'PASSWORD' | i18n }}">
                <button type="submit" ng-disabled="!unlockForm.$valid"
                        class="btn btn-primary">{{ 'UNLOCK' | i18n }}</button>
              </div>
              <span class="help-block" ui-toggle="unlockForm.password.$pristine && unlockForm.password.$error.invalid">{{ 'PASSWORD_INVALID' | i18n }}</span>
            </div>
          </div>
        </div>
      </form>
    </div>

    <div id="debug" ng-controller="DebugCtrl" ng-show="debug">
      <button class="btn" data-toggle="collapse" data-target="#debug-content">Debug</button>
      <div id="debug-content" class="collapse">
        <dl class="dl-horizontal">
          <dt>comet connected</dt>
          <dd>{{connected()}}</dd>
          <dt>synced model</dt>
          <dd><pre>{{model | json}}</pre></dd>
        </dl>
      </div>
    </div>

    <script src="lib/bootstrap/js/bootstrap.js"></script>
  </body>
</html>
